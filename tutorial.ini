Ecco un mini schema visivo per chiarire il flusso tra **ordini** e **posizioni** in MetaTrader 5:

```
[ ORDINE PENDENTE / INVIO ORDINE ] 
            │
            ▼
     (Ordine inviato al broker)
            │
            │ ESECUZIONE AVVENUTA?
            │
    ┌───────┴────────┐
    │                │
   NO               SÌ
    │                │
    ▼                ▼
(order rimane)   [ POSIZIONE APERTA ]
                   │
                   │ CHIUSURA POSIZIONE?
                   │
             ┌─────┴─────┐
             │           │
            NO          SÌ
             │           │
             ▼           ▼
    (posizione rimane) [ POSIZIONE CHIUSA ]
                         │
                         ▼
               [ ORDINE / POSIZIONE NELLO STORICO ]
```

**Legenda:**

* `/orders/pending` → ordini inviati ma non ancora eseguiti.
* `/orders/history` → tutti gli ordini passati, eseguiti o annullati.
* `/positions/open` → posizioni attualmente aperte.
* `/positions/closed` (non hai endpoint qui) → posizioni chiuse finiscono nello storico degli ordini o dei deals.

Se vuoi, posso fare una **versione ancora più semplificata “rapida da ricordare”** per l’uso con la tua FastAPI. Vuoi che lo faccia?
